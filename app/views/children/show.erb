<link rel="stylesheet" href="/stylesheets/child.css"/>
<link rel="stylesheet" href="/stylesheets/main.css" />
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Carter+One&family=Caveat:wght@700&family=Gloria+Hallelujah&family=Gochi+Hand&family=Indie+Flower&family=Lato&family=Luckiest+Guy&family=Merienda+One&family=Permanent+Marker&family=Shadows+Into+Light&family=Ultra&display=swap" rel="stylesheet">

<body id="body">

  <!-- Side navigation -->
  <div class="sidenav">
    <h2 class="centertext">Hello, <%= @child.name %>!</h2><br/>
    <h4 class="centertext">Your current balance is $<%= @child.balance.to_i %>.</h4>
    <a href="/logout">Logoff</a>
  </div>

  <!-- Page content -->
  <div class="main">
    <% if flash[:message] %>
      <div id="flash-message">
      <%= flash[:message] %>
      </div>
    <% end %>

    <button class="myBigButton" onclick="myFunction()">Your Chores.  Click on the check mark when this chore is complete!</button>
    <div id="myDIV">
      <% if @current_chores.length != 0 %>
        <% @current_chores.each do |chore|%>
            <div class="card1">
              <img class="item1" src="/images/tiny-broom.png" alt="Avatar" style="height:65px" style="width:auto">
              <div class="item"><b><%= chore.name %></b></div>
              <div class="item">Value: $<%= chore.value%></div>
              <div>
                <a href="/chores/<%=chore.id%>/done1"><img class="item2" src="/images/check2.png" alt="Avatar" style="height:70px" style="width:auto"></a>
                <%# possibly reassign or remove from self later? %>
              </div>
            </div>
        <% end %>
      <% else %>
        <h4>Huh, looks like you don't have any current chores.  Look at the available chores below to add some!</h4>
      <% end %>
    </div>
    <br/>
    <button class="myBigButton" onclick="myFunction2()">Your completed chores</button>
    <div id="myDIV2">
      <% if @done_chores.length != 0 %>
        <% @done_chores.each do |chore|%>
          <div class="card1">
            <img class="item1" src="/images/tiny-broom.png" alt="Avatar" style="height:65px" style="width:auto">
            <div class="item"><b><%= chore.name %></b></div>
            <div class="item">Value: $<%= chore.value%></div>
          </div>
        <% end %>
      <% else %>
        <h4>Huh, looks like you don't have any done chores.  Better get to work!</h4>
      <% end %>
    </div>
    <br/>
    
    <button class="myBigButton" onclick="myFunction4()">Available Chores.  Click on the check mark to take a chore!</button>
    <div id="myDIV4">
      <% if @available_chores.length != 0 %>
        <% @available_chores.each do |chore|%>
          <div class="card1">
            <img class="item1" src="/images/tiny-broom.png" alt="Avatar" style="height:65px" style="width:auto">
            <div class="item"><b><%= chore.name %></b></div>
            <div class="item">Value: $<%= chore.value%></div>
            <div>
              <a href="/chores/<%= chore.id %>/take"><img class="item2" src="/images/check2.png" alt="Avatar" style="height:70px" style="width:auto"></a>
            </div>
          </div>
        <% end %>
      <% else %>
        <h4>Huh, there aren't any chores available now.  Check back later!</h4>
      <% end %>
    </div>
  </div>

  <script>function myFunction() {
    var x = document.getElementById("myDIV");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
      }
    }
  function myFunction2() {
    var x = document.getElementById("myDIV2");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
      }
    }
  function myFunction3() {
    var x = document.getElementById("myDIV3");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
      }
    }
  function myFunction4() {
    var x = document.getElementById("myDIV4");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
    }
  }</script>
</body>
